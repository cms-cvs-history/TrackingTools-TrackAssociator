# -*-SH-*-
process TEST = {

   untracked PSet options =
   {
       untracked vstring Rethrow = {"ProductNotFound"}
   }

  service = MessageLogger {
          untracked vstring destinations = {"cout"}
	  untracked vstring categories   = {"TrackAssociator"}
	  untracked PSet cout = {
		        untracked string threshold = "INFO"
		        # untracked string threshold = "DEBUG"
			# untracked PSet default = { untracked int32 limit = -1  }
			untracked PSet DEBUG = { untracked int32 limit = 0  }
			untracked PSet INFO = { untracked int32 limit = -1  }
			untracked PSet TrackAssociator = { untracked int32 limit = -1  }
		      }
           # untracked vstring debugModules = { "test" }
  }
  
  # include "TrackingTools/TrackAssociator/test/kaons.cfi"
  # include "TrackingTools/TrackAssociator/test/muons.cfi"
  
  source = PoolSource {
     untracked vstring fileNames = {
     # "file:/afs/cern.ch/user/d/dmytro/public/files/0_8_1-muons.root"
     # "file:/afs/cern.ch/user/d/dmytro/scratch0/reco_muons1000_1002.root"
     # "/store/CSA06/CSA06-106-os-minbias-0/ALCARECO/CMSSW_1_0_6-AlcastreamHcalIsotrk-H3ded0a07bfd0450228a3006a0ff2e6a6/1026/6CABD321-1A65-DB11-A1B6-00304885B024.root"
     # "file:/afs/fnal.gov/files/home/room2/dmytro/public/datasamples/singlemu-1_2_0.root"
     "file:/afs/cern.ch/user/d/dmytro/public/singlemu-1_3_0.root"
     }
     untracked int32 maxEvents = 1000
     # untracked uint32 skipEvents = 480
  }
    
   include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    
   include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
   include "Geometry/CaloEventSetup/data/CaloTopology.cfi"

   include "Geometry/DTGeometry/data/dtGeometry.cfi"
   include "Geometry/RPCGeometry/data/rpcGeometry.cfi"
   include "Geometry/CSCGeometry/data/cscGeometry.cfi"
   include "Geometry/CommonDetUnit/data/bareGlobalTrackingGeometry.cfi"
   
   # include  "PerfTools/Callgrind/data/callgrindSwitch.cff"
   
   module test = CaloMatchingExample {
      include "TrackingTools/TrackAssociator/data/default.cfi"
      # InputTag inputRecoTrackColl = rsWithMaterialTracks
      InputTag inputRecoTrackColl = ctfWithMaterialTracks
      # string outputfile = "calo_muons.root"
      string outputfile = "calo_muons_10k.root"
   }
   
   replace test.TrackAssociatorParameters.truthMatch = false
   replace test.TrackAssociatorParameters.useMuon = true
   
   # include "TrackingTools/TrackAssociator/test/pions.cff"
   include "TrackingTools/TrackAssociator/test/muons.cff"
   
   #path p = {profilerStart, test, profilerStop}
   path p = {test}
}

