# -*-SH-*-
process TEST = {
    untracked PSet maxEvents = {untracked int32 input = 10}

   untracked PSet options =
   {
       untracked vstring Rethrow = {"ProductNotFound"}
   }

  service = MessageLogger {
          untracked vstring destinations = {"cout"}
	  untracked vstring categories   = {"TrackAssociator"}
	  untracked PSet cout = {
		        untracked string threshold = "INFO"
		        # untracked string threshold = "DEBUG"
			# untracked PSet default = { untracked int32 limit = -1  }
			untracked PSet DEBUG = { untracked int32 limit = 0  }
			untracked PSet INFO = { untracked int32 limit = -1  }
			untracked PSet TrackAssociator = { untracked int32 limit = -1  }
		      }
           untracked vstring debugModules = { "test" }
  }
  
  source = PoolSource {
     untracked vstring fileNames = {
     "/store/RelVal/2007/6/4/RelVal-RelVal150pre5ZPrimeDijets700-1180948067/0000/14D984A0-D412-DC11-A0CB-0030487074B3.root"
     }
     # untracked uint32 skipEvents = 409
  }

# include geometry and magnetic field
include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
include "Geometry/CaloEventSetup/data/CaloTopology.cfi"

include "Geometry/DTGeometry/data/dtGeometry.cfi"
include "Geometry/RPCGeometry/data/rpcGeometry.cfi"
include "Geometry/CSCGeometry/data/cscGeometry.cfi"
include "Geometry/CommonDetUnit/data/bareGlobalTrackingGeometry.cfi"
include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"

# add the SteppingHelixPropagator to the EventSetup
include "TrackPropagation/SteppingHelixPropagator/data/SteppingHelixPropagatorAny.cfi"
include "TrackPropagation/SteppingHelixPropagator/data/SteppingHelixPropagatorAlong.cfi"
include "TrackPropagation/SteppingHelixPropagator/data/SteppingHelixPropagatorOpposite.cfi"

include "TrackingTools/TrackAssociator/data/DetIdAssociatorESProducer.cff"

    module test = TestTrackAssociator {
      include "TrackingTools/TrackAssociator/data/default.cfi"
    }
   
   #replace test.TrackAssociatorParameters.useCalo = true
   replace test.TrackAssociatorParameters.truthMatch = true
    
   path p = {test}
}

