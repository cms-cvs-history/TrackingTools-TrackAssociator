# -*-SH-*-
process TEST = {

   untracked PSet options =
   {
       untracked vstring Rethrow = {"ProductNotFound"}
   }

  service = MessageLogger {
          vstring destinations = {"cout"}
	  PSet cout = {
		        string threshold = "INFO"
			PSet default = { int32 limit = -1  }
		      }
           vstring debugModules = { "test" }
  }
  
  source = PoolSource {
     untracked vstring fileNames = {
	  "file:/afs/cern.ch/user/d/dmytro/public/files/tenmuons.root"
	}
	untracked int32 maxEvents = 10
    }
    
    es_source magfield = XMLIdealGeometryESSource {
	FileInPath GeometryConfiguration = "Geometry/CMSCommonData/data/configuration.xml"
	string rootNodeName ="MagneticFieldVolumes:MAGF"	  
    }

    es_module = VolumeBasedMagneticFieldESProducer {
	double findVolumeTolerance = 0.0
	untracked bool cacheLastVolume = true
	untracked bool timerOn = false
    }	


   # include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"
   include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
   
   include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
   include "Geometry/DTGeometry/data/dtGeometry.cfi"
   include "Geometry/RPCGeometry/data/rpcGeometry.cfi"
   include "Geometry/CSCGeometry/data/cscGeometry.cfi"
   
   # es_module = TrackerGeometricDetESModule {}

    module test = TestTrackAssociator {
      vstring labels = {
      "EBRecHitCollection, ecalrechit, EcalRecHitsEB",
      "CaloTowerCollection, towermaker",
      "DTRecSegment4DCollection, recseg4dbuilder"
      }
      bool useEcal = true
      bool useHcal = true
      bool useMuon = true
    }
   
    
    path p = {test}
}

